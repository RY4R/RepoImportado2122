var t=Object.prototype.hasOwnProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,s=Object.assign;function r(){}function o(t,e){for(const n in e)t[n]=e[n];return t}function a(t){return t()}function i(){return Object.create(null)}function c(t){t.forEach(a)}function l(t){return"function"==typeof t}function u(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function h(t,e,n){t.$$.on_destroy.push(function(t,...e){if(null==t)return r;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}(e,n))}function f(t,e,n,s){if(t){const r=p(t,e,n,s);return t[0](r)}}function p(t,e,n,s){return t[1]&&s?o(n.ctx.slice(),t[1](s(e))):n.ctx}function d(t,e,n,s,r,o,a){const i=function(t,e,n,s){if(t[2]&&s){const r=t[2](s(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|r[s];return t}return e.dirty|r}return e.dirty}(e,s,r,o);if(i){const r=p(e,n,s,a);t.p(r,i)}}function m(t){return null==t?"":t}function g(t,e,n=e){return t.set(n),e}function $(t,e){t.appendChild(e)}function y(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode.removeChild(t)}function v(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _(t){return document.createElement(t)}function E(t){return document.createTextNode(t)}function w(){return E(" ")}function x(){return E("")}function k(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function L(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function O(t){return""===t?null:+t}function S(t){return Array.from(t.childNodes)}function R(t,e,n,s){for(let r=0;r<t.length;r+=1){const s=t[r];if(s.nodeName===e){let e=0;const o=[];for(;e<s.attributes.length;){const t=s.attributes[e++];n[t.name]||o.push(t.name)}for(let t=0;t<o.length;t++)s.removeAttribute(o[t]);return t.splice(r,1)[0]}}return s?function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}(e):_(e)}function A(t,e){for(let n=0;n<t.length;n+=1){const s=t[n];if(3===s.nodeType)return s.data=""+e,t.splice(n,1)[0]}return E(e)}function N(t){return A(t," ")}function P(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function j(t,e){t.value=null==e?"":e}function T(t,e,n,s){t.style.setProperty(e,n,s?"important":"")}let q;function z(t){q=t}function I(){if(!q)throw new Error("Function called outside component initialization");return q}function U(t){I().$$.on_mount.push(t)}function D(t,e){I().$$.context.set(t,e)}function V(t){return I().$$.context.get(t)}function C(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const K=[],M=[],B=[],W=[],F=Promise.resolve();let G=!1;function H(t){B.push(t)}function J(t){W.push(t)}let Y=!1;const X=new Set;function Q(){if(!Y){Y=!0;do{for(let t=0;t<K.length;t+=1){const e=K[t];z(e),Z(e.$$)}for(z(null),K.length=0;M.length;)M.pop()();for(let t=0;t<B.length;t+=1){const e=B[t];X.has(e)||(X.add(e),e())}B.length=0}while(K.length);for(;W.length;)W.pop()();G=!1,Y=!1,X.clear()}}function Z(t){if(null!==t.fragment){t.update(),c(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}const tt=new Set;let et;function nt(){et={r:0,c:[],p:et}}function st(){et.r||c(et.c),et=et.p}function rt(t,e){t&&t.i&&(tt.delete(t),t.i(e))}function ot(t,e,n,s){if(t&&t.o){if(tt.has(t))return;tt.add(t),et.c.push((()=>{tt.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}function at(t,e){const n={},s={},r={$$scope:1};let o=t.length;for(;o--;){const a=t[o],i=e[o];if(i){for(const t in a)t in i||(s[t]=1);for(const t in i)r[t]||(n[t]=i[t],r[t]=1);t[o]=i}else for(const t in a)r[t]=1}for(const a in s)a in n||(n[a]=void 0);return n}function it(t){return"object"==typeof t&&null!==t?t:{}}function ct(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function lt(t){t&&t.c()}function ut(t,e){t&&t.l(e)}function ht(t,e,n){const{fragment:s,on_mount:r,on_destroy:o,after_update:i}=t.$$;s&&s.m(e,n),H((()=>{const e=r.map(a).filter(l);o?o.push(...e):c(e),t.$$.on_mount=[]})),i.forEach(H)}function ft(t,e){const n=t.$$;null!==n.fragment&&(c(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function pt(t,e){-1===t.$$.dirty[0]&&(K.push(t),G||(G=!0,F.then(Q)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function dt(t,e,n,s,o,a,l=[-1]){const u=q;z(t);const h=e.props||{},f=t.$$={fragment:null,ctx:null,props:a,update:r,not_equal:o,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:i(),dirty:l,skip_bound:!1};let p=!1;if(f.ctx=n?n(t,h,((e,n,...s)=>{const r=s.length?s[0]:n;return f.ctx&&o(f.ctx[e],f.ctx[e]=r)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](r),p&&pt(t,e)),n})):[],f.update(),p=!0,c(f.before_update),f.fragment=!!s&&s(f.ctx),e.target){if(e.hydrate){const t=S(e.target);f.fragment&&f.fragment.l(t),t.forEach(b)}else f.fragment&&f.fragment.c();e.intro&&rt(t.$$.fragment),ht(t,e.target,e.anchor),Q()}z(u)}class mt{$destroy(){ft(this,1),this.$destroy=r}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function gt(t){let e,n,s=t[1].stack+"";return{c(){e=_("pre"),n=E(s)},l(t){e=R(t,"PRE",{});var r=S(e);n=A(r,s),r.forEach(b)},m(t,s){y(t,e,s),$(e,n)},p(t,e){2&e&&s!==(s=t[1].stack+"")&&P(n,s)},d(t){t&&b(e)}}}function $t(t){let e,n,s,o,a,i,c,l=t[1].message+"",u=t[1].stack&&gt(t);return{c(){e=_("h1"),n=E(t[0]),s=w(),o=_("p"),a=E(l),i=w(),u&&u.c(),c=x()},l(r){e=R(r,"H1",{});var h=S(e);n=A(h,t[0]),h.forEach(b),s=N(r),o=R(r,"P",{});var f=S(o);a=A(f,l),f.forEach(b),i=N(r),u&&u.l(r),c=x()},m(t,r){y(t,e,r),$(e,n),y(t,s,r),y(t,o,r),$(o,a),y(t,i,r),u&&u.m(t,r),y(t,c,r)},p(t,[e]){1&e&&P(n,t[0]),2&e&&l!==(l=t[1].message+"")&&P(a,l),t[1].stack?u?u.p(t,e):(u=gt(t),u.c(),u.m(c.parentNode,c)):u&&(u.d(1),u=null)},i:r,o:r,d(t){t&&b(e),t&&b(s),t&&b(o),t&&b(i),u&&u.d(t),t&&b(c)}}}function yt(t,e,n){let{status:s}=e,{error:r}=e;return t.$$set=t=>{"status"in t&&n(0,s=t.status),"error"in t&&n(1,r=t.error)},[s,r]}class bt extends mt{constructor(t){super(),dt(this,t,yt,$t,u,{status:0,error:1})}}function vt(t){let e,n,s;const r=[t[4]||{}];var a=t[2][1];function i(t){let e={};for(let n=0;n<r.length;n+=1)e=o(e,r[n]);return{props:e}}return a&&(e=new a(i())),{c(){e&&lt(e.$$.fragment),n=x()},l(t){e&&ut(e.$$.fragment,t),n=x()},m(t,r){e&&ht(e,t,r),y(t,n,r),s=!0},p(t,s){const o=16&s?at(r,[it(t[4]||{})]):{};if(a!==(a=t[2][1])){if(e){nt();const t=e;ot(t.$$.fragment,1,0,(()=>{ft(t,1)})),st()}a?(e=new a(i()),lt(e.$$.fragment),rt(e.$$.fragment,1),ht(e,n.parentNode,n)):e=null}else a&&e.$set(o)},i(t){s||(e&&rt(e.$$.fragment,t),s=!0)},o(t){e&&ot(e.$$.fragment,t),s=!1},d(t){t&&b(n),e&&ft(e,t)}}}function _t(t){let e,n;return e=new bt({props:{status:t[0],error:t[1]}}),{c(){lt(e.$$.fragment)},l(t){ut(e.$$.fragment,t)},m(t,s){ht(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.status=t[0]),2&n&&(s.error=t[1]),e.$set(s)},i(t){n||(rt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ft(e,t)}}}function Et(t){let e,n,s,r;const o=[_t,vt],a=[];function i(t,e){return t[1]?0:1}return e=i(t),n=a[e]=o[e](t),{c(){n.c(),s=x()},l(t){n.l(t),s=x()},m(t,n){a[e].m(t,n),y(t,s,n),r=!0},p(t,r){let c=e;e=i(t),e===c?a[e].p(t,r):(nt(),ot(a[c],1,1,(()=>{a[c]=null})),st(),n=a[e],n||(n=a[e]=o[e](t),n.c()),rt(n,1),n.m(s.parentNode,s))},i(t){r||(rt(n),r=!0)},o(t){ot(n),r=!1},d(t){a[e].d(t),t&&b(s)}}}function wt(t){let e,n=t[6]&&xt(t);return{c(){e=_("div"),n&&n.c(),this.h()},l(t){e=R(t,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,class:!0});var s=S(e);n&&n.l(s),s.forEach(b),this.h()},h(){L(e,"id","svelte-announcer"),L(e,"aria-live","assertive"),L(e,"aria-atomic","true"),L(e,"class","svelte-1j55zn5")},m(t,s){y(t,e,s),n&&n.m(e,null)},p(t,s){t[6]?n?n.p(t,s):(n=xt(t),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(t){t&&b(e),n&&n.d()}}}function xt(t){let e,n;return{c(){e=E("Navigated to "),n=E(t[7])},l(s){e=A(s,"Navigated to "),n=A(s,t[7])},m(t,s){y(t,e,s),y(t,n,s)},p(t,e){128&e&&P(n,t[7])},d(t){t&&b(e),t&&b(n)}}}function kt(t){let e,n,s,r;const a=[t[3]||{}];let i={$$slots:{default:[Et]},$$scope:{ctx:t}};for(let l=0;l<a.length;l+=1)i=o(i,a[l]);e=new t[8]({props:i});let c=t[5]&&wt(t);return{c(){lt(e.$$.fragment),n=w(),c&&c.c(),s=x()},l(t){ut(e.$$.fragment,t),n=N(t),c&&c.l(t),s=x()},m(t,o){ht(e,t,o),y(t,n,o),c&&c.m(t,o),y(t,s,o),r=!0},p(t,[n]){const r=8&n?at(a,[it(t[3]||{})]):{};2071&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r),t[5]?c?c.p(t,n):(c=wt(t),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},i(t){r||(rt(e.$$.fragment,t),r=!0)},o(t){ot(e.$$.fragment,t),r=!1},d(t){ft(e,t),t&&b(n),c&&c.d(t),t&&b(s)}}}function Lt(t,e,n){let{status:s}=e,{error:r}=e,{stores:o}=e,{page:a}=e,{components:i}=e,{props_0:c=null}=e,{props_1:l=null}=e;const u=i[0];var h;D("__svelte__",o),h=o.page.notify,I().$$.after_update.push(h);let f=!1,p=!1,d=null;return U((()=>{const t=o.page.subscribe((()=>{f&&(n(6,p=!0),n(7,d=document.title))}));return n(5,f=!0),t})),t.$$set=t=>{"status"in t&&n(0,s=t.status),"error"in t&&n(1,r=t.error),"stores"in t&&n(9,o=t.stores),"page"in t&&n(10,a=t.page),"components"in t&&n(2,i=t.components),"props_0"in t&&n(3,c=t.props_0),"props_1"in t&&n(4,l=t.props_1)},t.$$.update=()=>{1536&t.$$.dirty&&o.page.set(a)},[s,r,i,c,l,f,p,d,u,o,a]}class Ot extends mt{constructor(t){super(),dt(this,t,Lt,kt,u,{status:0,error:1,stores:9,page:10,components:2,props_0:3,props_1:4})}}let St;const Rt={},At=function(t,e){if(!e)return t();if(void 0===St){const t=document.createElement("link").relList;St=t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(e.map((t=>{if(t in Rt)return;Rt[t]=!0;const e=t.endsWith(".css"),n=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${n}`))return;const s=document.createElement("link");return s.rel=e?"stylesheet":St,e||(s.as="script",s.crossOrigin=""),s.href=t,document.head.appendChild(s),e?new Promise(((t,e)=>{s.addEventListener("load",t),s.addEventListener("error",e)})):void 0}))).then((()=>t()))};function Nt(t){let e,n,s,o,a,i,c,l,u,h,f,p,d,m,g,v;return{c(){e=_("nav"),n=_("ul"),s=_("li"),o=_("a"),a=_("span"),i=E("🛒"),c=w(),l=_("li"),u=_("a"),h=_("span"),f=E("🎁"),p=w(),d=_("li"),m=_("a"),g=_("span"),v=E("👥"),this.h()},l(t){e=R(t,"NAV",{class:!0});var r=S(e);n=R(r,"UL",{class:!0});var $=S(n);s=R($,"LI",{class:!0});var y=S(s);o=R(y,"A",{href:!0,class:!0});var _=S(o);a=R(_,"SPAN",{class:!0});var E=S(a);i=A(E,"🛒"),E.forEach(b),_.forEach(b),y.forEach(b),c=N($),l=R($,"LI",{class:!0});var w=S(l);u=R(w,"A",{href:!0,class:!0});var x=S(u);h=R(x,"SPAN",{class:!0});var k=S(h);f=A(k,"🎁"),k.forEach(b),x.forEach(b),w.forEach(b),p=N($),d=R($,"LI",{class:!0});var L=S(d);m=R(L,"A",{href:!0,class:!0});var O=S(m);g=R(O,"SPAN",{class:!0});var P=S(g);v=A(P,"👥"),P.forEach(b),O.forEach(b),L.forEach(b),$.forEach(b),r.forEach(b),this.h()},h(){L(a,"class","inicio svelte-12gbzok"),L(o,"href","/"),L(o,"class","svelte-12gbzok"),L(s,"class","logo svelte-12gbzok"),L(h,"class","articulos svelte-12gbzok"),L(u,"href","/articulos"),L(u,"class","svelte-12gbzok"),L(l,"class","item active svelte-12gbzok"),L(g,"class","clientes svelte-12gbzok"),L(m,"href","/clientes"),L(m,"class","svelte-12gbzok"),L(d,"class","item active svelte-12gbzok"),L(n,"class","menu svelte-12gbzok"),L(e,"class","svelte-12gbzok")},m(t,r){y(t,e,r),$(e,n),$(n,s),$(s,o),$(o,a),$(a,i),$(n,c),$(n,l),$(l,u),$(u,h),$(h,f),$(n,p),$(n,d),$(d,m),$(m,g),$(g,v)},p:r,i:r,o:r,d(t){t&&b(e)}}}class Pt extends mt{constructor(t){super(),dt(this,t,null,Nt,u,{})}}function jt(t){let e,n,s,r,o,a,i,c,l,u;n=new Pt({});const h=t[1].default,p=f(h,t,t[0],null);return{c(){e=_("main"),lt(n.$$.fragment),s=w(),p&&p.c(),r=w(),o=_("div"),a=E("😊"),i=w(),c=_("div"),l=E("😟"),this.h()},l(t){e=R(t,"MAIN",{});var u=S(e);ut(n.$$.fragment,u),s=N(u),p&&p.l(u),u.forEach(b),r=N(t),o=R(t,"DIV",{id:!0});var h=S(o);a=A(h,"😊"),h.forEach(b),i=N(t),c=R(t,"DIV",{id:!0});var f=S(c);l=A(f,"😟"),f.forEach(b),this.h()},h(){L(o,"id","OK"),L(c,"id","KO")},m(t,h){y(t,e,h),ht(n,e,null),$(e,s),p&&p.m(e,null),y(t,r,h),y(t,o,h),$(o,a),y(t,i,h),y(t,c,h),$(c,l),u=!0},p(t,[e]){p&&p.p&&1&e&&d(p,h,t,t[0],e,null,null)},i(t){u||(rt(n.$$.fragment,t),rt(p,t),u=!0)},o(t){ot(n.$$.fragment,t),ot(p,t),u=!1},d(t){t&&b(e),ft(n),p&&p.d(t),t&&b(r),t&&b(o),t&&b(i),t&&b(c)}}}function Tt(t,e,n){let{$$slots:s={},$$scope:r}=e;return D("URL",{articulos:"https://tiendabackend.herokuapp.com/api/articulos/",clientes:"https://tiendabackend.herokuapp.com/api/clientes/"}),t.$$set=t=>{"$$scope"in t&&n(0,r=t.$$scope)},[r,s]}var qt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:class extends mt{constructor(t){super(),dt(this,t,Tt,jt,u,{})}}});const zt=[()=>At((()=>import("./index.js")),["/_app/index.js","/_app/index.css"]),()=>At((()=>import("./articulos.js")),["/_app/articulos.js","/_app/articulos.css","/_app/Boton.js","/_app/Boton.css"]),()=>At((()=>import("./clientes.js")),["/_app/clientes.js","/_app/clientes.css","/_app/Boton.js","/_app/Boton.css"])],It=()=>({}),Ut=[{pattern:/^\/$/,params:It,parts:[zt[0]]},{pattern:/^\/articulos\/?$/,params:It,parts:[zt[1]]},{pattern:/^\/clientes\/?$/,params:It,parts:[zt[2]]}],Dt=[];function Vt(t){for(;t&&"A"!==t.nodeName.toUpperCase();)t=t.parentNode;return t}const Ct=[];function Kt(t,e=r){let n;const s=[];function o(e){if(u(t,e)&&(t=e,n)){const e=!Ct.length;for(let n=0;n<s.length;n+=1){const e=s[n];e[1](),Ct.push(e,t)}if(e){for(let t=0;t<Ct.length;t+=2)Ct[t][0](Ct[t+1]);Ct.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(a,i=r){const c=[a,i];return s.push(c),1===s.length&&(n=e(o)||r),a(t),()=>{const t=s.indexOf(c);-1!==t&&s.splice(t,1),0===s.length&&(n(),n=null)}}}}function Mt(){return{x:pageXOffset,y:pageYOffset}}class Bt{constructor({base:t,host:e,pages:n,ignore:s}){this.base=t,this.host=e,this.pages=n,this.ignore=s,this.history=window.history||{pushState:()=>{},replaceState:()=>{},scrollRestoration:"auto"}}init({renderer:t}){let e;this.renderer=t,t.router=this,"scrollRestoration"in this.history&&(this.history.scrollRestoration="manual"),addEventListener("beforeunload",(()=>{this.history.scrollRestoration="auto"})),addEventListener("load",(()=>{this.history.scrollRestoration="manual"})),addEventListener("scroll",(()=>{clearTimeout(e),e=setTimeout((()=>{const t=s(s({},history.state||{}),{"sveltekit:scroll":Mt()});history.replaceState(t,document.title,window.location)}),50)})),addEventListener("click",(t=>{if(1!==function(t){return null===t.which?t.button:t.which}(t))return;if(t.metaKey||t.ctrlKey||t.shiftKey||t.altKey)return;if(t.defaultPrevented)return;const e=Vt(t.target);if(!e)return;if(!e.href)return;const n="object"==typeof e.href&&"SVGAnimatedString"===e.href.constructor.name,s=String(n?e.href.baseVal:e.href);if(s===location.href)return void(location.hash||t.preventDefault());if(e.hasAttribute("download")||"external"===e.getAttribute("rel"))return;if(n?e.target.baseVal:e.target)return;const r=new URL(s);if(r.pathname===location.pathname&&r.search===location.search)return;const o=this.select(r);if(o){const n=e.hasAttribute("sveltekit:noscroll");this.renderer.notify(o),this.history.pushState({},"",r.href),this.navigate(o,!!n&&Mt(),r.hash),t.preventDefault()}})),addEventListener("popstate",(t=>{if(t.state){const e=new URL(location.href),n=this.select(e);n?this.navigate(n,t.state["sveltekit:scroll"]):location.href=location.href}})),document.body.setAttribute("tabindex","-1"),this.history.replaceState({},"",location.href);const n=this.select(new URL(location.href));if(n)return this.renderer.start(n)}select(t){if(t.origin!==location.origin)return null;if(!t.pathname.startsWith(this.base))return null;let e=t.pathname.slice(this.base.length);if(""===e&&(e="/"),!this.ignore.some((t=>t.test(e))))for(const n of this.pages){const s=n.pattern.exec(e);if(s){const r=new URLSearchParams(t.search),o=n.params(s),a={host:this.host,path:e,query:r,params:o};return{href:t.href,route:n,match:s,page:a}}}}async goto(t,{noscroll:e=!1,replaceState:n=!1}={}){const s=new URL(t,function(t){let e=t.baseURI;if(!e){const n=t.getElementsByTagName("base");e=n.length?n[0].href:t.URL}return e}(document)),r=this.select(s);return r?(this.renderer.notify(r),this.history[n?"replaceState":"pushState"]({},"",t),this.navigate(r,!!e&&Mt(),s.hash)):(location.href=t,new Promise((()=>{})))}async navigate(t,e,n){location.pathname.endsWith("/")&&"/"!==location.pathname&&history.replaceState({},"",`${location.pathname.slice(0,-1)}${location.search}`),await this.renderer.render(t),document.body.focus();const s=n&&document.getElementById(n.slice(1));e?scrollTo(e.x,e.y):s?scrollTo(0,s.getBoundingClientRect().top+scrollY):scrollTo(0,0)}}function Wt(t){const e=Kt(t);let n=!0;return{notify:function(){n=!0,e.update((t=>t))},set:function(t){n=!1,e.set(t)},subscribe:function(t){let s;return e.subscribe((e=>{(void 0===s||n&&e!==s)&&t(s=e)}))}}}class Ft{constructor({Root:t,layout:e,target:n,error:s,status:r,preloaded:o,session:a}){this.Root=t,this.layout=e,this.layout_loader=()=>e,this.target=n,this.initial={preloaded:o,error:s,status:r},this.current={page:null,query:null,session_changed:!1,nodes:[],contexts:[]},this.caches=new Map,this.prefetching={href:null,promise:null},this.stores={page:Wt({}),navigating:Kt(null),session:Kt(a)},this.$session=null,this.root=null;const i=t=>{const e=Vt(t.target);e&&e.hasAttribute("sveltekit:prefetch")&&this.prefetch(new URL(e.href))};let c;addEventListener("touchstart",i),addEventListener("mousemove",(t=>{clearTimeout(c),c=setTimeout((()=>{i(t)}),20)}));let l=!1;this.stores.session.subscribe((async t=>{if(this.$session=t,!l)return;this.current.session_changed=!0;const e=this.router.select(new URL(location.href));this.render(e)})),l=!0}async start(t){const e={stores:this.stores,error:this.initial.error,status:this.initial.status,page:t.page};if(this.initial.error)e.components=[this.layout.default];else{const n=await this.hydrate(t);if(n.redirect)throw new Error("TODO client-side redirects");Object.assign(e,n.props),this.current=n.state}this.root=new this.Root({target:this.target,props:e,hydrate:!0}),this.initial=null}notify(t){this.stores.navigating.set({from:this.current.page,to:t.page})}async render(t){const e=this.token={},n=await this.hydrate(t);this.token===e&&(this.current=n.state,this.root.$set(n.props),this.stores.navigating.set(null))}async hydrate({route:r,page:o}){const a={error:null,status:200,components:[]},i=(s,r)=>{if(this.initial){const r=document.querySelector(`script[type="svelte-data"][url="${s}"]`);if(r){const s=JSON.parse(r.textContent),{body:o}=s,a=((s,r)=>{var o={};for(var a in s)t.call(s,a)&&r.indexOf(a)<0&&(o[a]=s[a]);if(null!=s&&e)for(var a of e(s))r.indexOf(a)<0&&n.call(s,a)&&(o[a]=s[a]);return o})(s,["body"]);return Promise.resolve(new Response(o,a))}}return fetch(s,r)},c=o.query.toString(),l={page:o,query:c,session_changed:!1,nodes:[],contexts:[]},u=[this.layout_loader(),...r.parts.map((t=>t()))],h=[];let f,p;const d={params:Object.keys(o.params).filter((t=>!this.current.page||this.current.page.params[t]!==o.params[t])),query:c!==this.current.query,session:this.current.session_changed,context:!1};try{for(let t=0;t<u.length;t+=1){const e=this.current.nodes[t],n=this.current.contexts[t],{default:r,load:m}=await u[t];a.components[t]=r;if(!e||r!==e.component||d.params.some((t=>e.uses.params.has(t)))||d.query&&e.uses.query||d.session&&e.uses.session||d.context&&e.uses.context){const e=o.path+c,n=this.caches.get(r),a=n&&n.get(e);let u,g;if(!a||d.context&&a.node.uses.context){u={component:r,uses:{params:new Set,query:!1,session:!1,context:!1}};const t={};for(const n in o.params)Object.defineProperty(t,n,{get:()=>(u.uses.params.add(n),o.params[n]),enumerable:!0});const e=this.$session;g=m&&await m.call(null,{page:{host:o.host,path:o.path,params:t,get query(){return u.uses.query=!0,o.query}},get session(){return u.uses.session=!0,e},get context(){return u.uses.context=!0,s({},f)},fetch:i})}else({node:u,loaded:g}=a);if(g){if(g.error){let t=g.error;throw"string"==typeof t&&(t=new Error(t)),t instanceof Error||(t=new Error(`"error" property returned from load() must be a string or instance of Error, received type "${typeof t}"`)),t.status=g.status,t}if(g.redirect){p=g.redirect;break}if(g.context&&(d.context=!0,f=s(s({},f),g.context)),g.maxage){this.caches.has(r)||this.caches.set(r,new Map);const t=this.caches.get(r),n={node:u,loaded:g};t.set(e,n);let s=!1;const o=setTimeout((()=>{a()}),1e3*g.maxage),a=()=>{t.get(e)===n&&t.delete(e),i(),clearTimeout(o)},i=this.stores.session.subscribe((()=>{s&&a()}));s=!0}h[t]=g.props}l.nodes[t]=u,l.contexts[t]=f}else l.nodes[t]=e,l.contexts[t]=f=n}(await Promise.all(h)).forEach(((t,e)=>{t&&(a[`props_${e}`]=t)})),this.current.page&&o.path===this.current.page.path||(a.page=o)}catch(m){a.error=m,a.status=m.status||500,l.nodes=[]}return{redirect:p,props:a,state:l}}async prefetch(t){const e=this.router.select(t);if(e)return t.href!==this.prefetching.href&&(this.prefetching={href:t.href,promise:this.hydrate(e)}),this.prefetching.promise;throw new Error(`Could not prefetch ${t.href}`)}}async function Gt({paths:t,target:e,host:n,session:s,preloaded:r,error:o,status:a}){const i=new Bt({base:t.base,host:n,pages:Ut,ignore:Dt}),c=new Ft({Root:Ot,layout:qt,target:e,preloaded:r,error:o,status:a,session:s});await i.init({renderer:c})}export{M as A,ct as B,T as C,J as D,nt as E,st as F,v as G,h as H,V as I,U as J,g as K,Kt as L,m as M,l as N,C as O,Gt as P,mt as S,w as a,S as b,R as c,A as d,_ as e,b as f,N as g,L as h,dt as i,y as j,$ as k,lt as l,ut as m,r as n,ht as o,rt as p,ot as q,ft as r,u as s,E as t,f as u,j as v,k as w,O as x,d as y,c as z};
